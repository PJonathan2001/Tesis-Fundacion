name: CI/CD Pipeline con Tiempo de Ejecución

on:
  push:
    branches:
      - main  # Se ejecuta cuando hay cambios en main

jobs:
  login-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout del código
        uses: actions/checkout@v3

      - name: Instalar dependencias
        run: |
          echo "Instalando dependencias..."
          time sleep 2  # Simula instalación de dependencias

      - name: Ejecutar prueba de login con Selenium
        run: |
          echo "Ejecutando prueba de login..."
          START_TIME=$(date +%s)  # Guarda el tiempo de inicio
          
          # Aquí iría tu código de prueba con Selenium, por ejemplo:
          python tests/test_login.py
          
          END_TIME=$(date +%s)  # Guarda el tiempo final
          TOTAL_TIME=$((END_TIME - START_TIME))
          echo "Tiempo total de la prueba de login: $TOTAL_TIME segundos"
